(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3203)}])},9733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(603),a=n(5893),o=n(7294),i=n(708);function s(e){var t=e.propsFn,n=(0,r.Z)((0,i.Z)(),2),s=n[0];n[1];return(0,o.useEffect)((function(){t(s)}),[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"React cookies"}),s.user&&console.log(s.user)]})}},8777:function(e,t,n){"use strict";n.r(t);var r=n(7568),a=n(603),o=n(4051),i=n.n(o),s=n(5893),c=n(708),d=n(7294);t.default=function(){var e=(0,a.Z)((0,c.Z)(["user"]),2),t=(e[0],e[1]);(0,d.useEffect)((function(){console.log("we are on the login cookies component.")}));var n=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("we are looking at useEffect, but not in the function");try{console.log("we are looking at useEffect, but not in the function"),n.preventDefault(),t("user",JSON.stringify({data:"this is the most authentic cookie you've ever authenticated"}),{path:"/",maxAge:10,sameSite:!0})}catch(r){console.log(r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("label",{htmlFor:"username",children:["hi there",(0,s.jsx)("input",{type:"text",placeholder:"pretty please enter username",onClick:function(e){return n(e)}})]})})}},3203:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(4111),a=n(7568),o=n(1438),i=n(2951),s=n(4924),c=n(8029),d=n(460),l=n(4051),b=n.n(l),u=n(5893),x=n(536),p=n.n(x),m=n(9008),f=n.n(m),h=n(7294),g=n(1163),j=n.n(g),w=n(5697),y=n(9669),k=n.n(y),v=n(9733),z=n(8777),N=function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).state={data:null,cookieValue:null,props:e},a.getUsers=a.getUsers.bind((0,r.Z)(a)),a.dataFetchPoliticians=a.dataFetchPoliticians.bind((0,r.Z)(a)),a}return(0,i.Z)(n,[{key:"dataFetchPoliticians",value:function(e){var t=this;return(0,a.Z)(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setState({cookieValue:e});case 2:case"end":return n.stop()}}),n)})))()}},{key:"getUsers",value:function(){var e=this;return(0,a.Z)(b().mark((function t(){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k().get("/api/users");case 2:n=t.sent,e.setState({data:n});case 4:case"end":return t.stop()}}),t)})))()}},{key:"componentDidMount",value:function(){console.log("We are on the Profile page component. Let's query the developers.ballotpedia.org API.");var e=new Headers;e.append("Content-Type","application/json"),e.append("x-api-key","your-api-key"),fetch("https://api4.ballotpedia.org/data/the-endpoint-name-and-options",{method:"GET",headers:e}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)})),this.getUsers()}},{key:"componentDidUpdate",value:function(){console.log("component updated! this.state is ",this.state,this.state.cookieValue&&this.state.cookieValue.user&&this.state.cookieValue.user.data)}},{key:"render",value:function(){return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",backgroundColor:"rgb(250,250,250)"},children:[(0,u.jsx)(v.default,{propsFn:this.dataFetchPoliticians}),this.state.cookieValue&&0===Object.keys(this.state.cookieValue).length&&"To access user data, go to the right and press the text box. Within 10 seconds refresh the page.",this.state.cookieValue&&0!==Object.keys(this.state.cookieValue).length&&(0,u.jsx)("div",{children:this.state.data&&this.state.data.data.response.map((function(e){return(0,u.jsxs)("div",{style:{margin:"1em",padding:"1em",width:"200px",border:"groove",borderStyle:"outset",borderWidth:"1px",backgroundColor:"white"},children:[(0,u.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__480.png",style:{width:"50%",height:"100px",display:"block",marginLeft:"auto",marginRight:"auto"}}),(0,u.jsx)("div",{children:e.formBasicCheckbox}),(0,u.jsx)("div",{children:e.formBasicEmail}),(0,u.jsx)("div",{children:e.formBasicPassword}),(0,u.jsx)("div",{children:e.formBasicPasswordConfirm}),(0,u.jsx)("div",{children:e.formFirstName}),(0,u.jsx)("div",{children:e.formLastName}),(0,u.jsx)("div",{children:e.formMiddleInitial})]})}))}),(0,u.jsx)(z.default,{cookie:this.state.props})]})}}]),n}(h.Component),C=n(1106),S=n(5501),_=n(1902),Z=(n(9085),n(2419),n(3454)),P=_.Z.initializeApp({apiKey:"AIzaSyBu8wpxB_YbIjI1Tw8lx1gjffuJ6YYpKr0",authDomain:"the-midway-b98d8.firebaseapp.com",databaseURL:"https://the-midway-b98d8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"the-midway-b98d8",storageBucket:"the-midway-b98d8.appspot.com",messagingSenderId:"248441553393",appId:"1:248441553393:web:493dc767adb2bfd5918450",measurementId:"G-3WJ6SFM1XC"}),I=(P.firestore(),function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e){var i;(0,o.Z)(this,n),i=t.call(this,e);var c=(0,r.Z)(i);(0,s.Z)((0,r.Z)(i),"login",function(){var e=(0,a.Z)(b().mark((function e(t){var n,r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=c.state,r=n.username,o=n.password,console.log("username and password are ",r,o),console.log("process.env.API_URL is ",Z.env.API_URL),console.log("the state is ",c.state),P.auth().signInWithEmailAndPassword(r,o).then(function(){var e=(0,a.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().post("/api/sessions",{user:{email:r.toLowerCase()}},{withCredentials:!0});case 2:t=e.sent,console.log("The response is ",t),c.props.cookies,n=c.state.newCookies,console.log("What is newCookies?",n),S.Z.set("user",JSON.stringify({data:"some new data goes here from pages/index.js"}),{path:"/",maxAge:3600,sameSite:!0}),n.set("name",name,{path:"/"}),c.setState({name:name}),j().push("/profilePage");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var d=e.cookies;return i.state={name:d&&d.get("name")||"Ben",userProfile:null,username:null,password:null,cookieValue:null,allProps:e,newCookies:(0,w.instanceOf)(S.Z).isRequired},i.login=i.login.bind((0,r.Z)(i)),i}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(){console.log("the props are ",this.state.allProps)}},{key:"render",value:function(){var e=this;return(0,u.jsx)("div",{className:"container",style:{background:"rgb(250,250,250)",width:"100vw !important",display:"flex",justifyContent:"center"},children:(0,u.jsxs)("div",{style:{maxWidth:"1300px",display:"inline-block",backgroundColor:"rgb(250, 250, 250)"},className:"jsx-bcb4098dba9624d6",children:[(0,u.jsx)(C.Z,{}),(0,u.jsx)(N,{name:"Dean"}),(0,u.jsxs)(f(),{children:[(0,u.jsxs)("title",{className:"jsx-bcb4098dba9624d6 box",children:["Two Signup Types, and the Users ","&"," Politicians "]}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-bcb4098dba9624d6"})]}),(0,u.jsxs)("main",{style:{zIndex:"3"},className:"jsx-bcb4098dba9624d6",children:[(0,u.jsx)("h1",{style:{zIndex:"3",color:"white"},className:"jsx-bcb4098dba9624d6 title",children:(0,u.jsx)("img",{style:{width:"200px",height:"200px"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Mangroves_at_sunset.jpg/1200px-Mangroves_at_sunset.jpg",className:"jsx-bcb4098dba9624d6"})}),(0,u.jsxs)("div",{style:{backgroundColor:"white",borderStyle:"outset",borderWidth:"0.1em",zIndex:"3",display:"flex",flexDirection:"column",width:"350px",height:"350px",alignContent:"space-around"},className:"jsx-bcb4098dba9624d6",children:[(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("center",{style:{fontSize:"2em",fontWeight:"bolder"},className:"jsx-bcb4098dba9624d6",children:"Mangrove"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("input",{onChange:function(t){return e.setState({username:t.target.value})},type:"email",id:"email",name:"email",placeholder:"Username or Email",className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("input",{onChange:function(t){return e.setState({password:t.target.value})},type:"password",id:"password",name:"password",placeholder:"Password",className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("center",{className:"jsx-bcb4098dba9624d6",children:(0,u.jsx)("button",{onClick:function(t){return e.login(t)},style:{fontSize:"1em",fontWeight:"bolder",width:"100px"},className:"jsx-bcb4098dba9624d6",children:"Login"})})]}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsxs)("center",{style:{backgroundColor:"white",borderStyle:"outset",borderWidth:"0.1em",zIndex:"3",display:"flex",flexDirection:"column",width:"350px",height:"100px",alignContent:"space-around"},className:"jsx-bcb4098dba9624d6",children:[(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("div",{className:"jsx-bcb4098dba9624d6",children:"New User?"}),(0,u.jsx)("br",{className:"jsx-bcb4098dba9624d6"}),(0,u.jsx)("button",{onClick:function(e){return j().push("/signup-fork")},style:{width:"100px",marginLeft:"125px"},className:"jsx-bcb4098dba9624d6",children:"Sign up"})]})]}),(0,u.jsx)("footer",{className:"jsx-bcb4098dba9624d6",children:(0,u.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",className:"jsx-bcb4098dba9624d6",children:["Powered by"," ",(0,u.jsx)("img",{src:"/vercel.svg",alt:"Vercel",className:"jsx-bcb4098dba9624d6 logo"})]})}),(0,u.jsx)(p(),{id:"84b56b9595ae0240",children:".container.jsx-bcb4098dba9624d6{min-height:100vh;padding:0 .5rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}main.jsx-bcb4098dba9624d6{padding:5rem 0;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}footer.jsx-bcb4098dba9624d6{width:100%;height:100px;border-top:1px solid#eaeaea;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}footer.jsx-bcb4098dba9624d6 img.jsx-bcb4098dba9624d6{margin-left:.5rem}footer.jsx-bcb4098dba9624d6 a.jsx-bcb4098dba9624d6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}a.jsx-bcb4098dba9624d6{color:inherit;text-decoration:none}.title.jsx-bcb4098dba9624d6 a.jsx-bcb4098dba9624d6{color:#0070f3;text-decoration:none}.title.jsx-bcb4098dba9624d6 a.jsx-bcb4098dba9624d6:hover,.title.jsx-bcb4098dba9624d6 a.jsx-bcb4098dba9624d6:focus,.title.jsx-bcb4098dba9624d6 a.jsx-bcb4098dba9624d6:active{text-decoration:underline}.title.jsx-bcb4098dba9624d6{margin:0;line-height:1.15;font-size:4rem}.title.jsx-bcb4098dba9624d6,.description.jsx-bcb4098dba9624d6{text-align:center}.description.jsx-bcb4098dba9624d6{line-height:1.5;font-size:1.5rem}code.jsx-bcb4098dba9624d6{background:#fafafa;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:.75rem;font-size:1.1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.grid.jsx-bcb4098dba9624d6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:800px;margin-top:3rem}.card.jsx-bcb4098dba9624d6{margin:1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1.5rem;text-align:left;color:inherit;text-decoration:none;border:1px solid#eaeaea;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;-webkit-transition:color.15s ease,border-color.15s ease;-moz-transition:color.15s ease,border-color.15s ease;-o-transition:color.15s ease,border-color.15s ease;transition:color.15s ease,border-color.15s ease}.card.jsx-bcb4098dba9624d6:hover,.card.jsx-bcb4098dba9624d6:focus,.card.jsx-bcb4098dba9624d6:active{color:#0070f3;border-color:#0070f3}.card.jsx-bcb4098dba9624d6 h3.jsx-bcb4098dba9624d6{margin:0 0 1rem 0;font-size:1.5rem}.card.jsx-bcb4098dba9624d6 p.jsx-bcb4098dba9624d6{margin:0;font-size:1.25rem;line-height:1.5}.logo.jsx-bcb4098dba9624d6{height:1em}@media(max-width:600px){.grid.jsx-bcb4098dba9624d6{width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}"}),(0,u.jsx)(p(),{id:"2323726f93dd16ea",children:"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}"})]})})}}]),n}(h.Component));(0,s.Z)(I,"propTypes",{cookies:(0,w.instanceOf)(S.Z).isRequired})},1163:function(e,t,n){e.exports=n(387)},2703:function(e,t,n){"use strict";var r=n(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},708:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),a=n(5163);function o(e){var t=(0,r.useContext)(a.ZP);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),o=(0,r.useState)(n),i=o[0],s=o[1],c=(0,r.useRef)(i);return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,r.useLayoutEffect)((function(){function n(){var n=t.getAll();(function(e,t,n){if(!e)return!0;for(var r=0,a=e;r<a.length;r++){var o=a[r];if(t[o]!==n[o])return!0}return!1})(e||null,n,c.current)&&s(n),c.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[i,(0,r.useMemo)((function(){return t.set.bind(t)}),[t]),(0,r.useMemo)((function(){return t.remove.bind(t)}),[t])]}},603:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return a}})}},function(e){e.O(0,[16,976,952,501,106,931,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);